@using CSS_Server.Models
@using CSS_Server.ViewModels
@using Newtonsoft.Json.Linq

@{
    Layout = "_Layout";
}

@model CameraFootageViewModel

<h1>Footage for Camera: @Model.CameraName (@Model.CameraId)</h1>

<main class="main">

    @if (Model.Footage != null && Model.Footage.Count() > 0)
    {
        <div class="cameras-container">

            @foreach (Footage footage in Model.Footage)
            {
                <div class="single-camera-block">
                    <img src="/media/camerafootage.jpg" alt="footage">
                    <h2>@footage.Filename</h2>
                    <h3>Length: @TimeSpan.FromMilliseconds( @footage.Duration.GetValueOrDefault() ).ToString(@"hh\:mm\:ss\:fff") </h3>
                    <h3>Resolution: @footage.Resolution</h3>
                    <h3>Bitrate: @Math.Round( (double) footage.Bitrate.GetValueOrDefault() / (1000 * 1000), 2) Mbps</h3>
                </div>
            }
        </div>
    } else
    {
        <h1>No footage for this camera or camera is not found/offline</h1>
    }
</main>
